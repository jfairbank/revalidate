
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>composeValidators Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="combineValidators.html" />
    
    
    <link rel="prev" href="createValidator.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Table of Contents</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../integrations.html">
            
                <a href="../integrations.html">
            
                    
                    Integrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Usage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="createValidator.html">
            
                <a href="createValidator.html">
            
                    
                    createValidator
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="composeValidators.html">
            
                <a href="composeValidators.html">
            
                    
                    composeValidators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="combineValidators.html">
            
                <a href="combineValidators.html">
            
                    
                    combineValidators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="nested-fields.html">
            
                <a href="nested-fields.html">
            
                    
                    Nested Fields
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="redux-form.html">
            
                <a href="redux-form.html">
            
                    
                    Redux Form
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="immutable-js.html">
            
                <a href="immutable-js.html">
            
                    
                    Immutable.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-sources.html">
            
                <a href="data-sources.html">
            
                    
                    Data Sources
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../common-validators/">
            
                <a href="../common-validators/">
            
                    
                    Common Validators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../common-validators/isRequired.html">
            
                <a href="../common-validators/isRequired.html">
            
                    
                    isRequired
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../common-validators/isRequiredIf.html">
            
                <a href="../common-validators/isRequiredIf.html">
            
                    
                    isRequiredIf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../common-validators/isAlphabetic.html">
            
                <a href="../common-validators/isAlphabetic.html">
            
                    
                    isAlphabetic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../common-validators/isAlphaNumeric.html">
            
                <a href="../common-validators/isAlphaNumeric.html">
            
                    
                    isAlphaNumeric
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../common-validators/isNumeric.html">
            
                <a href="../common-validators/isNumeric.html">
            
                    
                    isNumeric
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../common-validators/hasLengthBetween.html">
            
                <a href="../common-validators/hasLengthBetween.html">
            
                    
                    hasLengthBetween
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../common-validators/hasLengthGreaterThan.html">
            
                <a href="../common-validators/hasLengthGreaterThan.html">
            
                    
                    hasLengthGreaterThan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../common-validators/hasLengthLessThan.html">
            
                <a href="../common-validators/hasLengthLessThan.html">
            
                    
                    hasLengthLessThan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../common-validators/isOneOf.html">
            
                <a href="../common-validators/isOneOf.html">
            
                    
                    isOneOf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../common-validators/matchesPattern.html">
            
                <a href="../common-validators/matchesPattern.html">
            
                    
                    matchesPattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../common-validators/matchesField.html">
            
                <a href="../common-validators/matchesField.html">
            
                    
                    matchesField
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../test-helpers/">
            
                <a href="../test-helpers/">
            
                    
                    Test Helpers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../test-helpers/hasError.html">
            
                <a href="../test-helpers/hasError.html">
            
                    
                    hasError
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../test-helpers/hasErrorAt.html">
            
                <a href="../test-helpers/hasErrorAt.html">
            
                    
                    hasErrorAt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../test-helpers/hasErrorOnlyAt.html">
            
                <a href="../test-helpers/hasErrorOnlyAt.html">
            
                    
                    hasErrorOnlyAt
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >composeValidators</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="composevalidators"><code>composeValidators</code></h1>
<p>Revalidate becomes really useful when you use the <code>composeValidators</code> function.
As the name suggests, it allows you to compose validators into one. By default
the composed validator will check each validator and return the first error
message it encounters. Validators are checked in a left-to-right fashion to
make them more readable. (<strong>Note:</strong> this is opposite most functional
implementations of the compose function.)</p>
<p>The composed validator is also curried and takes the same arguments as an
individual validator made with <code>createValidator</code>.</p>
<pre><code class="lang-js"><span class="hljs-comment">// ES2015</span>
<span class="hljs-keyword">import</span> {
  createValidator,
  composeValidators,
  isRequired
} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;revalidate&apos;</span>;

<span class="hljs-comment">// Or ES5</span>
<span class="hljs-keyword">var</span> r = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;revalidate&apos;</span>);
<span class="hljs-keyword">var</span> createValidator = r.createValidator;
<span class="hljs-keyword">var</span> composeValidators = r.composeValidators;
<span class="hljs-keyword">var</span> isRequired = r.isRequired;

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> isAlphabetic = createValidator(
  message =&gt; value =&gt; {
    <span class="hljs-keyword">if</span> (value &amp;&amp; !<span class="hljs-regexp">/^[A-Za-z]+$/</span>.test(value)) {
      <span class="hljs-keyword">return</span> message;
    }
  },

  field =&gt; <span class="hljs-string">`<span class="hljs-subst">${field}</span> must be alphabetic`</span>
);

<span class="hljs-keyword">const</span> validator = composeValidators(
  isRequired,

  <span class="hljs-comment">// You can still customize individual validators</span>
  <span class="hljs-comment">// because they&apos;re curried!</span>
  isAlphabetic({
    message: <span class="hljs-string">&apos;Can only contain letters&apos;</span>
  })
)(<span class="hljs-string">&apos;My Field&apos;</span>);

validator();      <span class="hljs-comment">// &apos;My Field is required&apos;</span>
validator(<span class="hljs-string">&apos;123&apos;</span>); <span class="hljs-comment">// &apos;Can only contain letters&apos;</span>
validator(<span class="hljs-string">&apos;abc&apos;</span>); <span class="hljs-comment">// undefined</span>
</code></pre>
<h4 id="multiple-errors-as-an-array">Multiple Errors as an Array</h4>
<p>You can supply an additional <code>multiple: true</code> option to return all errors as an
array from your composed validators. This will run all composed validations
instead of stopping at the first one that fails.</p>
<pre><code class="lang-js"><span class="hljs-comment">// ES2015</span>
<span class="hljs-keyword">import</span> { createValidator, composeValidators } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;revalidate&apos;</span>;

<span class="hljs-comment">// Or ES5</span>
<span class="hljs-keyword">var</span> r = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;revalidate&apos;</span>);
<span class="hljs-keyword">var</span> createValidator = r.createValidator;
<span class="hljs-keyword">var</span> composeValidators = r.composeValidators;

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> startsWithA = createValidator(
  message =&gt; value =&gt; {
    <span class="hljs-keyword">if</span> (value &amp;&amp; !<span class="hljs-regexp">/^A/</span>.test(value)) {
      <span class="hljs-keyword">return</span> message;
    }
  },
  field =&gt; <span class="hljs-string">`<span class="hljs-subst">${field}</span> must start with A`</span>
);

<span class="hljs-keyword">const</span> endsWithC = createValidator(
  message =&gt; value =&gt; {
    <span class="hljs-keyword">if</span> (value &amp;&amp; !<span class="hljs-regexp">/C$/</span>.test(value)) {
      <span class="hljs-keyword">return</span> message;
    }
  },
  field =&gt; <span class="hljs-string">`<span class="hljs-subst">${field}</span> must end with C`</span>
);

<span class="hljs-keyword">const</span> validator = composeValidators(
  startsWithA,
  endsWithC
)({ field: <span class="hljs-string">&apos;My Field&apos;</span>, multiple: <span class="hljs-literal">true</span> });

validator(<span class="hljs-string">&apos;BBB&apos;</span>);
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   &apos;My Field must start with A&apos;,</span>
<span class="hljs-comment">//   &apos;My Field must end with C&apos;</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<h4 id="multiple-errors-as-an-object">Multiple Errors as an Object</h4>
<p>Alternatively, if you want to be able to reference specific errors, you can
return multiple errors as an object, thereby allowing you to name the errors. To
return multiple errors as an object, pass in your validators as an object to
<code>composeValidators</code> instead of a variadic number of arguments. The keys you use
in your object will be the keys in the returned errors object. Don&apos;t forget to
still supply the <code>multiple: true</code> option!</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> validator = composeValidators({
  A: startsWithA,
  C: endsWithC
})({ field: <span class="hljs-string">&apos;My Field&apos;</span>, multiple: <span class="hljs-literal">true</span> });

validator(<span class="hljs-string">&apos;BBB&apos;</span>);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   A: &apos;My Field must start with A&apos;,</span>
<span class="hljs-comment">//   C: &apos;My Field must end with C&apos;</span>
<span class="hljs-comment">// }</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="createValidator.html" class="navigation navigation-prev " aria-label="Previous page: createValidator">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="combineValidators.html" class="navigation navigation-next " aria-label="Next page: combineValidators">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"composeValidators","level":"1.4.2","depth":2,"next":{"title":"combineValidators","level":"1.4.3","depth":2,"path":"usage/combineValidators.md","ref":"usage/combineValidators.md","articles":[]},"previous":{"title":"createValidator","level":"1.4.1","depth":2,"path":"usage/createValidator.md","ref":"usage/createValidator.md","articles":[]},"dir":"ltr"},"config":{"plugins":["advanced-emoji","github"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/jfairbank/revalidate"},"advanced-emoji":{"embedEmojis":false},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"3.2.2"},"file":{"path":"usage/composeValidators.md","mtime":"2016-10-18T01:38:53.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-08-11T18:03:10.989Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

